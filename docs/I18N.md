# Internationalization (i18n) Guide

This project uses Rails' built-in i18n framework to support multiple languages. We welcome contributions for translations!

## Supported Languages

Currently, the following languages are configured:

- **English** (en) - Default language ✅
- **Spanish** (es)
- **French** (fr)
- **German** (de)
- **Portuguese** (pt)
- **Italian** (it)
- **Japanese** (ja)
- **Chinese Simplified** (zh-CN)
- **Russian** (ru)

## How to Contribute Translations

### 1. Choose a Language

Pick a language file from `config/locales/` that you'd like to translate. All non-English files currently have empty strings (`""`) waiting for translations.

### 2. Use English as Reference

Open `config/locales/en.yml` to see the English text for each key. Copy the structure and translate the values.

**Example:**

```yaml
# config/locales/en.yml
en:
  views:
    mr_characters:
      new:
        title: "New Mushroom Character"
        description: "I know. Maybe it should be \"New Fungus Character\" or \"New Stinkhorn Character\" or \"New Lichen Character\", but you get the message?"
        back_link: "Back to Mushroom Characters"
```

**Your translation (Spanish example):**

```yaml
# config/locales/es.yml
es:
  views:
    mr_characters:
      new:
        title: "Nuevo Carácter de Hongo"
        description: "Lo sé. Tal vez debería ser \"Nuevo Carácter de Hongo\" o \"Nuevo Carácter de Hongo Fétido\" o \"Nuevo Carácter de Liquen\", ¿pero entiendes el mensaje?"
        back_link: "Volver a Caracteres de Hongos"
```

### 3. Variable Interpolation

Some strings contain variables like `%{name}` or `%{count}`. Keep these exactly as they are:

```yaml
en:
  views:
    mushrooms:
      edit:
        title: "Edit %{name}"
```

Should become:

```yaml
es:
  views:
    mushrooms:
      edit:
        title: "Editar %{name}"
```

### 4. Submit Your Translation

1. Fork the repository
2. Create a new branch: `git checkout -b i18n-spanish` (or your language)
3. Edit the appropriate locale file in `config/locales/`
4. Test locally if possible
5. Commit your changes: `git commit -m "Add Spanish translations"`
6. Push to your fork: `git push origin i18n-spanish`
7. Open a Pull Request

## Testing Translations Locally

To test your translations:

1. Start the Rails server: `rails server`
2. In a Rails console, set the locale: `I18n.locale = :es`
3. Visit pages to see your translations
4. Or add `?locale=es` to any URL (if locale switching is implemented)

## File Structure

All translation files follow this structure:

```
config/locales/
├── en.yml              # English (complete)
├── devise.en.yml       # Devise gem translations
├── es.yml              # Spanish
├── fr.yml              # French
├── de.yml              # German
├── pt.yml              # Portuguese
├── it.yml              # Italian
├── ja.yml              # Japanese
├── zh-CN.yml           # Chinese Simplified
└── ru.yml              # Russian
```

## Using i18n in Views (for Developers)

When adding new text to views, use the `t()` helper:

```erb
<!-- Instead of: -->
<h1>New Mushroom Character</h1>

<!-- Use: -->
<h1><%= t('.title') %></h1>
```

The `.` prefix means "look in the scope matching this view path". For `app/views/admin/mr_characters/new.html.erb`, Rails will look for `views.mr_characters.new.title` in the locale files.

### Example View Conversion

See `app/views/admin/mr_characters/new.html.erb` for a working example of how to convert hardcoded text to use i18n.

## Adding a New Language

To add a language not yet supported:

1. Create a new YAML file in `config/locales/` (e.g., `nl.yml` for Dutch)
2. Copy the structure from `en.yml`
3. Update `config/application.rb` to add the locale to `config.i18n.available_locales`
4. Submit a PR with your new language file

## Questions?

If you have questions about translations or i18n, please open an issue on GitHub!

## Resources

- [Rails Internationalization Guide](https://guides.rubyonrails.org/i18n.html)
- [YAML Syntax Guide](https://yaml.org/spec/1.2/spec.html)
