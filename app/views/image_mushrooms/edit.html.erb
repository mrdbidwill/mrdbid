<% content_for :title, "Edit Image" %>

<div class="w-full max-w-3xl mx-auto p-4">
  <h1 class="font-bold text-2xl mb-4">Edit Image for <%= @image_mushroom.mushroom&.name || 'Unknown' %></h1>

  <!-- Info Banner -->
  <div class="bg-blue-50 border border-blue-200 rounded-md p-4 mb-4">
    <p class="text-sm text-gray-800">
      <strong>ℹ️ Note:</strong> You can edit the <strong>Image Name</strong>, <strong>Mushroom Part</strong>, and <strong>Comments</strong> below.
      EXIF data (camera, dimensions, exposure, etc.) is automatically extracted from the image file.
    </p>
  </div>

  <div class="bg-white border rounded-lg p-6">
    <%= render 'form', mushroom: @image_mushroom.mushroom, image_mushroom: @image_mushroom, parts: @parts %>
  </div>

  <!-- Additional Navigation -->
  <div class="mt-6 pt-4 border-t">
    <p class="text-sm text-gray-600 mb-2">Quick navigation:</p>
    <div class="flex flex-wrap gap-3">
      <%= link_to edit_mushroom_path(@image_mushroom.mushroom),
          class: "inline-flex items-center gap-2 px-4 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 text-white font-medium transition" do %>
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
        </svg>
        <span>Back to Character Grid</span>
      <% end %>

      <%= link_to "← Back to Mushroom",
                  mushroom_path(@image_mushroom.mushroom),
                  class: "text-blue-600 hover:underline text-sm" %>

      <%= link_to "View Full Size Image",
                  image_mushroom_path(@image_mushroom),
                  class: "text-blue-600 hover:underline text-sm" %>
    </div>
  </div>
</div>
