<% content_for :title, "Admin Â· #{h(@article.title)}" %>

<div class="flex items-center justify-between mb-4">
  <h1 class="font-bold text-2xl"><%= @article.title %></h1>
  <div class="flex gap-2">
    <%= link_to "Back to articles", admin_articles_path, class: "rounded-md px-2 py-1 bg-blue-600 hover:bg-blue-500 text-white font-medium" %>
    <%= link_to "Back to Admin Dashboard", admin_root_path, class: "rounded-md px-2 py-1 bg-gray-600 hover:bg-gray-500 text-white block font-medium" %>
    <%= link_to "Edit", edit_admin_article_path(@article), class: "rounded-md px-2 py-1 bg-blue-600 hover:bg-blue-500 text-white block font-medium" %>
    <%= link_to "View public", article_path(@article), class: "rounded-md px-2 py-1 bg-blue-600 hover:bg-blue-500 text-white block font-medium" %>
  </div>
</div>

<div class="text-sm text-gray-500 mb-3">
  <% if @article.subject.present? %><span class="mr-2">Subject: <%= @article.subject %></span><% end %>
  <% if @article.published_at.present? %><span class="mr-2"><%= @article.published_at.to_date %></span><% end %>
  <span>Status: <%= @article.published? ? "Published" : "Draft" %></span>
</div>

<div class="prose max-w-none">
  <% if @article.body.to_s.strip.starts_with?("<") %>
    <%= sanitize(@article.body, tags: %w[p br ul ol li h2 h3 h4 strong em a blockquote code pre img], attributes: %w[href src alt title class]) %>
  <% else %>
    <%= simple_format(@article.body) %>
  <% end %>

  <div class="mt-4">
    <%= link_to "Edit this article", edit_admin_article_path(@article), class: "rounded-md px-2 py-1 bg-blue-600 hover:bg-blue-500 text-white font-medium" %>
    <%= link_to "Back to articles", admin_articles_path, class: "rounded-md px-2 py-1 bg-blue-600 hover:bg-blue-500 text-white font-medium" %>
  </div>
</div>