<% content_for :title, "mr_characters source (CSV)" %>

<div class="w-full">
  <h1 class="text-2xl font-semibold mb-4">Original mr_characters source (CSV)</h1>
  <p class="text-sm text-gray-600 mb-4">
    This is a read-only view of the exported spreadsheet to track “before” vs “after”.
  </p>

  <p>This is key to Type (lookup_type) referred to below:</p>
  <ol class="list-decimal list-inside text-sm text-gray-700 mb-4 space-y-0.5">
    <li> Macro</li>
    <li> Low Magnification</li>
    <li> Macrochemical</li>
    <li> Micro</li>
    <li> Chemosystematics</li>
    <li> Mating Compatibility</li>
    <li> Mycelium</li>
    <li> DNA</li>
    <li> Admin</li>
  </ol>

  <p>This is key to parts referred to below:</p>
    <ol class="list-decimal list-inside text-sm text-gray-700 mb-4 space-y-0.5">
      <li> Admin</li>
      <li> Basic</li>
      <li> Cap - Pileus</li>
      <li> Stem - Stipe</li>
      <li> Veil</li>
      <li> Mycelium</li>
      <li> Spores</li>
      <li> Micro</li>
      <li> DNA</li>
      <li> Habitat</li>
      <li> Rhizomorph</li>
      <li> Chemical Reaction</li>
      <li> Color</li>
      <li> Location</li>
      <li> Identification</li>
      <li> Storage</li>
    </ol>

  <p>This is key to Display Options referred to below:</p>
  <ol class="list-decimal list-inside text-sm text-gray-700 mb-4 space-y-0.5">
    <li> Do Not Display</li>
    <li> text_box_number_mm</li>
    <li> text_box_number_um</li>
    <li> text_box_number</li>
    <li> text_box_string</li>
    <li> color</li>
    <li> taste</li>
    <li> odor</li>
    <li> radio</li>
    <li> drop-down</li>
    <li> state</li>
    <li> country</li>
    <li> texture</li>
  </ol>

  <% if current_user&.admin? %>
  <div class="overflow-auto border rounded">
    <table class="min-w-full text-sm">
      <thead>
      <tr>
        <% @headers.each do |h| %>
          <th class="px-2 py-1 text-left font-semibold border-b bg-gray-50 whitespace-nowrap"><%= h %></th>
        <% end %>
      </tr>
      </thead>
      <tbody>
      <% @rows.each do |r| %>
        <tr class="odd:bg-white even:bg-gray-50">
          <% @headers.each do |h| %>
            <td class="px-2 py-1 border-b align-top"><%= r[h] %></td>
          <% end %>
        </tr>
      <% end %>
      </tbody>
    </table>
  </div>
<% end %>
  <div class="mt-4">
    <%= link_to "Download CSV", "/docs/mr_characters_source.csv", class: "text-blue-700 underline", download: true %>
  </div>
</div>